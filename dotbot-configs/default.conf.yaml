- defaults:
    link:
        relink: true
        create: true
        force: true
    shell:
        stdout: true
        stderr: true

- create:
    - $HOME/.config

- clean:
    $HOME:
        force: true
    $HOME/.config:
        recursive: true

- shell:
    - [ npm install -g neovim ]
    - [ pip install --user powerline-status, Installing powerline status ]
    - [ pip3 install --user --upgrade pynvim ]
    -
        command: echo $(which zsh) | sudo tee -a /etc/shells
        stdin: true
    -
        command: chsh -s $(which zsh)
        stdin: true
        description: Making zsh the default shell

- link:
    $HOME/.zshrc: zsh/.zshrc
    $HOME/.zsh_plugins: zsh/.zsh_plugins
    $HOME/.zsh_options: zsh/.zsh_options
    $HOME/.zsh_bindings: zsh/.zsh_bindings
    $HOME/.zsh_startup: zsh/.zsh_startup
    $HOME/.zsh_completions: zsh/.zsh_completions
    $HOME/.bash_aliases: zsh/.bash_aliases
    $HOME/.vimrc: vim/.vimrc
    $HOME/.vim_plugins: vim/.vim_plugins
    $HOME/.vim_settings: vim/.vim_settings
    $HOME/.vim_bindings: vim/.vim_bindings
    $HOME/.vim_vscode: vim/.vim_vscode
    $HOME/.config/nvim: vim/.config/nvim
    $HOME/.gitconfig: git/.gitconfig

- shell:
    - [ vim +VimEnter +PlugInstall +qa, Installing vim plugins ]
